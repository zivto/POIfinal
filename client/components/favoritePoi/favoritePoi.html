
<div ng-controller="favoritePoiController">
  <img class=background id="POIbgcss" src="./img/favoritesbg.jpg"style="opacity: 0.6" alt="form background"> 
       
  <div id="favorites"> 
    <button ng-click="sortBy('category')"> Sort by category </button>
    <span ng-show="propertyName == 'category'"></span>
    <button ng-click="sortBy('rating')"> Sort by rating </button>
    <span ng-show="propertyName == 'rating'"></span>
  </div>

  <div class="favoritesCss">
    <div ng-repeat="point in favoritePoints | orderBy : propertyName"> 
      <center>{{point.category}}</center>
      <center>{{point.POI_name}}</center>
      <center>rating : {{point.rating}}</center>
      <hr class="lineStyle">
      <br>
      <center><img class="homeImg" ng-src="{{point.POI_image}}" alt=""></center>
      <br>
      <button ng-click="removePoint(point)">remove point from favorites</button>
      
      <!-- Trigger/Open The Modal -->
      <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#reviewModal{{$index}}">Review</button>
      <div class="modal fade" id="reviewModal{{$index}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Review {{point.POI_name}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="review-text" class="col-form-label">Write a review here:</label>
                  <textarea ng-model="review.review" class="form-control" id="message-text"></textarea>
                </div>
                <div class="form-group">
                  <label for="rank-text" class="col-form-label">Rank:</label>
                  <select ng-model="review.rating">
                    <option value="1">1
                    <option value="2">2
                    <option value="3">3
                    <option value="4">4
                    <option value="4">5
                  </select>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button ng-click="reviewPoint(point)" type="button" data-dismiss="modal" class="btn btn-primary">Send</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Trigger the modal with a button -->
      <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal{{$index}}">See Description</button>
      <div class="container">                         
        <!-- Modal -->
        <div class="modal fade" id="myModal{{$index}}" role="dialog">
          <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{point.POI_name}}</h4>
              </div>
              <div class="modal-body">
                <p>{{point.description}}</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br>
      <br>
      <br>
    </div>      
  </div>
</div>
